#!/bin/bash

echo "üöÄ –ù–∞—á–∏–Ω–∞—é –¥–µ–ø–ª–æ–π..."
echo ""

# –î–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
echo "üì¶ –î–æ–±–∞–≤–ª—è—é —Ñ–∞–π–ª—ã..."
git add .

# –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞
echo "üí¨ –í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π (–∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ Enter –¥–ª—è '–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ'):"
read commit_message

# –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –≤–≤–µ–ª–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
if [ -z "$commit_message" ]; then
    commit_message="–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ"
fi

# –ö–æ–º–º–∏—Ç–∏–º
echo "‚úÖ –°–æ–∑–¥–∞—é –∫–æ–º–º–∏—Ç: $commit_message"
git commit -m "$commit_message"

# –ü—É—à–∏–º –Ω–∞ GitHub
echo "üì§ –û—Ç–ø—Ä–∞–≤–ª—è—é –Ω–∞ GitHub..."
git push

# –î–µ–ø–ª–æ–∏–º –Ω–∞ GitHub Pages
echo "üåê –ü—É–±–ª–∏–∫—É—é –Ω–∞ GitHub Pages..."
npm run deploy

echo ""
echo "‚ú® –ì–æ—Ç–æ–≤–æ! –°–∞–π—Ç –æ–±–Ω–æ–≤–∏—Ç—Å—è —á–µ—Ä–µ–∑ 1-2 –º–∏–Ω—É—Ç—ã"
echo "üîó https://artemasovvalera.github.io/y_s/"
